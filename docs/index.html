<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Starter Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <style>
        body {
            padding-top: 50px;
        }

        .starter-template {
            padding: 40px 15px;
            text-align: center;
        }
    </style>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</div>
<style>
    html, body, .container-fluid {
        height: 100%;
        padding-right: 0px;
        padding-left: 0px;
    }

    .mytable {
        font-size: small;
        display: table;
        width: 100%;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

    .myrow {
        height: 100%;
        display: table-row;
    }

    .mycol {
        float: none;
        display: table-cell;
    }

    .mycol-left {
        display: table-cell;
        width: 50%;
    }

    .mycol-right {
        display: table-cell;
        width: 50%;
    }

</style>
<div class="container-fluid mytable">
    <div class="row myrow">
        <div id="one" class="col-lg-6 mycol mycol-left">
            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="form-inline search-panel">
                            <form id="searchBean" action="#" method="get">
                                <div class="form-group">
                                    <label for="statusType">상태</label>
                                    <select id="statusType" name="statusType" class="form-control form-dashboard">
                                        <option value="">전체</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <input id="keyword" name="keyword" placeholder=""
                                           class="form-control form-dashboard" type="text" value="" autocomplete="off">
                                </div>
                                <button href="#" class="btn btn-default btn-search btn-sm" role="submit">
                                    검색
                                </button>
                                <div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <table class="panel-body table table-hover table-bordered">
                        <thead>
                        <tr>
                            <th>id</th>
                            <th>name</th>
                            <th>mac</th>
                            <th>lag</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr data-id="1" onclick="panTo(this);">
                            <td>1</td>
                            <td>테스트1</td>
                            <td>12:12:12:12:12:12</td>
                            <td>32:127</td>
                        </tr>
                        <tr data-id="2" onclick="panTo(this);">
                            <td>2</td>
                            <td>테스트2</td>
                            <td>12:12:12:12:12:12</td>
                            <td>32:127</td>
                        </tr>
                        <tr data-id="3" onclick="panTo(this);">
                            <td>3</td>
                            <td>테스트3</td>
                            <td>12:12:12:12:12:12</td>
                            <td>32:127</td>
                        </tr>
                        <tr data-id="4" onclick="panTo(this);">
                            <td>4</td>
                            <td>테스트4</td>
                            <td>12:12:12:12:12:12</td>
                            <td>32:127</td>
                        </tr>
                        <tr data-id="5" onclick="panTo(this);">
                            <td>5</td>
                            <td>테스트5</td>
                            <td>12:12:12:12:12:12</td>
                            <td>32:127</td>
                        </tr>
                        </tbody>
                    </table>

                </div>

            </div>
            <div class="row">
                <nav class="text-center">
                    <!-- Add class .pagination-lg for larger blocks or .pagination-sm for smaller blocks-->
                    <ul class="pagination">
                        <li class="disabled"><a href="#">&lt;&lt;</a></li>
                        <li class="disabled"><a href="#">&lt;</a></li>
                        <li class="active"><a href="#">1</a>
                        </li>
                        <li class="disabled"><a href="#">&gt;</a></li>
                        <li class="disabled"><a href="#">&gt;&gt;</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div id="map" class="col-lg-6 mycol mycol-right"></div>
    </div>
</div>
<!-- /.container -->

<div id="windowInfo" class="thumbnail clearfix" style="width: 300px;">
    <img src="http://www.everland.com/mobile/images/everland_favicon.png" class="pull-left" style="width: 70px">
    <div class="caption">
        <a href="http://www.everland.com/mobile/beacon/miniature.html" target="_blank">
            <h4>Everland Audio Guide</h4>
        </a>
        <div class="card-desc">From window info</div>
    </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=PzOLX7m6UkYYh9exOkSf"></script>
<!--<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=e3EdgxcePjwgytVPYIt8"></script>-->
<script>
    var position = new naver.maps.LatLng(37.2932127, 127.2014288);
    var mapOptions = {
        center: position,
        zoom: 11
    };

    var map = new naver.maps.Map('map', mapOptions);

    var mapData = {
        1: {lat: "37.2942127", lng: "127.2014288"},
        2: {lat: "37.2952127", lng: "127.2054288"},
        3: {lat: "37.2962127", lng: "127.2104288"},
        4: {lat: "37.2972127", lng: "127.2154288"},
        5: {lat: "37.2982127", lng: "127.2204288"}
    };

    var infoDiv = document.getElementById("windowInfo");
    var infowindow = new naver.maps.InfoWindow({
        content: infoDiv
    });

    for (var key in mapData) {
        if (mapData.hasOwnProperty(key)) {
            console.log(key + " -> " + mapData[key]);
            var lat = mapData[key].lat;
            var lng = mapData[key].lng;

            var markerOptions = {
                position: new naver.maps.LatLng(lat, lng),
                map: map,
                icon: './img/pin_default.png'
            };

            var marker = new naver.maps.Marker(markerOptions);

            naver.maps.Event.addListener(marker, "click", function (e) {
                if (infowindow.getMap()) {
                    infowindow.setContent(windowInfo);
                    infowindow.close();
                } else {
                    infowindow.open(map, marker);
                }

            });
        }
    }

    var markerList = [];
    var menuLayer = $('<div style="position:absolute;z-index:10000;background-color:#fff;border:solid 1px #333;padding:10px;display:none;"></div>');

    map.getPanes().floatPane.appendChild(menuLayer[0]);

    naver.maps.Event.addListener(map, 'mousedown', function(e) {
        menuLayer.hide();
    });

    naver.maps.Event.addListener(map, 'rightclick', function(e) {
        var coordHtml = 'Coord: '+ e.coord +'<br />Point: '+ e.point +'<br />Offset: '+ e.offset;

        menuLayer.show().css({
            left: e.offset.x,
            top: e.offset.y
        }).html(coordHtml);
    });

    function panTo(ele) {
        var id = $(ele).data('id')
        var lat = mapData[id].lat;
        var lng = mapData[id].lng;

        map.panTo(new naver.maps.LatLng(lat, lng));
    }

</script>
</body>
</html>
